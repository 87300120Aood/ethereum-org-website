---
title: 状态通道
description: 介绍了状态通道和付款渠道，作为以太坊社区目前使用的扩容解决方案。
lang: zh
sidebarDepth: 3
---

状态通道让参与者可以安全地进行链下交易，同时最大限度地减少和以太坊主网的交互。 通道对等节点可以进行任意数量的链下交易，并且只需提交两个链上交易以打开和关闭通道。 这样便实现了极高的交易吞吐量，并为用户降低了成本。

##  {#how-do-sidechains-work}

公共区块链，如以太坊，由于其分布式架构而面临可扩展性挑战：链上交易必须由所有节点执行。 节点必须能够使用普通硬件来处理区块中的交易量，为了保持网络去中心化而限制了交易吞吐量。

###  {#consensus-algorithms}

通道是简单的对等协议，允许双方进行多笔交易，然后只将最终结果发布到区块链。 渠道使用加密算法证明产生的摘要数据确实是一组有效中间交易的结果。 [“多重签名”](/developers/docs/smart-contracts/#multisig)智能合约确保交易由正确的相关方签署。

- []()
- []()
-

相关方通过通道执行和验证状态变化，最大限度减少以太坊执行层上的计算。 这就减少了以太坊拥塞，也提高了用户的交易处理速度。

####  {#block-parameters}

每条通道都由以太坊上运行的[多签智能合约](/developers/docs/smart-contracts/#multisig)管理。 要打开一条通道，参与者在链上部署通道合约并将资金存入其中。

要关闭通道，参与者需要将各方一致同意的通道最终状态提交到链上。 然后，智能合约根据通道最终状态下每个参与者的余额分配锁定资金。

对等通道在一些情况下非常有用，比如，某些预先确定的参与者希望频繁进行交易，并且不会产生明显的费用。 区块链通道分为两类：**支付通道**和**状态通道**。

###  {#evm-compatibility}

将支付通道描述成由两个用户共同维护的“双向账本”最为恰当。 账本的初始余额是通道打开期间锁定在链上合约中的存款总和。

账本余额的更新（即支付渠道的状态）需要渠道中所有各方的批准。 通道更新在所有通道参与者签署后被视为最终确定，这和以太坊上的交易非常相似。

支付通道是最早的扩容方案之一，用于最大限度减少因简单的用户交互带来的高成本链上活动（例如，以太币转账、原子交换、小额支付）。 通道参与者彼此之间可以进行不限次数的即时、无费用交易，只要他们的转账总净额不超过存入的代币。

除了支持链下支付外，尚未证实支付通道可用于处理通用状态转换逻辑。 创建状态通道是为了解决这个问题，并使通道可用于扩展通用计算。

###  {#asset-movement}

状态通道与支付通道仍有很多共同点。 例如，当用户通过交换加密签名的信息（交易）进行互动时，另一些通道参与者也必须对信息签名。 如果提出的状态更新没有获得所有参与者的签名，则认为是无效的。

##  {#pros-and-cons-of-sidechains}

|  |  |
|  |  |
|  |  |
|  |  |
|  |  |
|  |  |

###  {#use-sidechains}

- []()
- []()
- []()
- []()
- []()

##  {#further-reading}

-

_ _
